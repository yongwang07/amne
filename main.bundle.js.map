{"version":3,"sources":["C:/projects/applause/src async","C:/projects/applause/src/app/app.component.css","C:/projects/applause/src/app/app.component.html","C:/projects/applause/src/app/app.component.ts","C:/projects/applause/src/app/app.module.ts","C:/projects/applause/src/environments/environment.ts","C:/projects/applause/src/main.ts"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["function webpackEmptyContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = \"../../../../../src async recursive\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/projects/applause/src async\n// module id = ../../../../../src async recursive\n// module chunks = 2","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"agm-map {\\r\\n    height: 80vh;\\r\\n}\\r\\nh6 {\\r\\n    font-size: 1rem;\\r\\n}\\r\\n.agent-list {\\r\\n    background-color: #dcdcdc;\\r\\n    position: fixed;\\r\\n    z-index: 100;\\r\\n    height: 80%;\\r\\n    width: 20vw;\\r\\n    top: 20vh;\\r\\n    left: 0;\\r\\n    margin-left:-19.5%;\\r\\n    transition: margin 1s;\\r\\n    overflow-y: auto;\\r\\n}\\r\\n.card, .alert {\\r\\n    cursor: pointer;\\r\\n    font-weight: 2px;\\r\\n    border: 5px;\\r\\n    border-color: black;\\r\\n    font-size: 10px;\\r\\n}\\r\\n.badge {\\r\\n    font-size: 0.7rem;\\r\\n    background-color: #337ab7;\\r\\n}\\r\\n.agent-list:hover {\\r\\n    margin-left: 0;\\r\\n}\\r\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/projects/applause/src/app/app.component.css\n// module id = ../../../../../src/app/app.component.css\n// module chunks = 2","module.exports = \"<!--The content below is only a placeholder and can be replaced.-->\\n<div style=\\\"text-align:center\\\">\\n  <img width=\\\"300\\\" src=\\\"https://www.amne.co/8dde3b4310fb70d44c6eba326d6f63ae.png\\\">\\n</div>\\n<h4 class=\\\"alert alert-success mt-1 mb-0\\\">Find within 10 miles Real Estate Agencies on Austin </h4>\\n<div class=\\\"container-flow\\\">\\n  <div class=\\\"form-group mb-0\\\">\\n    <input #address placeholder=\\\"search for location A\\\" autocorrect=\\\"off\\\" autocapitalize=\\\"off\\\" \\n      spellcheck=\\\"off\\\" type=\\\"text\\\" (keyup)=\\\"onchange($event, 0)\\\" class=\\\"form-control col-5 float-left\\\">\\n    <input #address placeholder=\\\"search for location B\\\" autocorrect=\\\"off\\\" autocapitalize=\\\"off\\\" \\n      spellcheck=\\\"off\\\" type=\\\"text\\\" (keyup)=\\\"onchange($event, 1)\\\" class=\\\"form-control float-left col-5\\\">\\n    <button type=\\\"submit\\\" class=\\\"col-2 btn btn-primary mx-auto mt-sm-10\\\" \\n      (click)=\\\"search()\\\" [disabled]=\\\"!locations[0] || !locations[1]\\\">search</button>\\n  </div>\\n  <section style=\\\"position:relative\\\">\\n    <agm-map [latitude]=\\\"locations[0]?.latitude || Austin.latitude\\\" [longitude]=\\\"locations[0]?.longitude || Austin.longitude\\\" [scrollwheel]=\\\"true\\\" [zoom]=\\\"zoom\\\">\\n      <agm-marker *ngFor=\\\"let location of locations; let i=index\\\" [label]=\\\"i==0?'A':'B'\\\"   [latitude]=\\\"location?.latitude\\\" [longitude]=\\\"location?.longitude\\\"></agm-marker>\\n      <agm-marker *ngFor=\\\"let agent of agencies; let i = index\\\" [label]=\\\"(i+1)+''\\\"\\n        [latitude]=\\\"agent.latitude\\\" [longitude]=\\\"agent.longitude\\\" (markerClick)=\\\"clickedMarker(i)\\\">\\n        <agm-info-window [isOpen]=\\\"agent.isOpen\\\">\\n          <b>{{agent.name}}</b><br/>\\n          {{agent.addr}}\\n        </agm-info-window>\\n      </agm-marker>\\n    </agm-map>\\n    <aside class=\\\"agent-list\\\">\\n      <div class=\\\"panel panel-default\\\">\\n          <div class=\\\"panel-heading\\\">\\n              <h6 class=\\\"panel-title\\\">Search Result: <span class=\\\"badge\\\">{{agencies.length}}</span></h6>\\n          </div>\\n          <div class=\\\"panel-body\\\">\\n              <ul class=\\\"list-group\\\">\\n                  <li *ngFor=\\\"let agent of agencies; let i = index\\\" class=\\\"list-group-item\\\" (click)=\\\"clickAgent(i)\\\">\\n                    <div><span class=\\\"badge\\\">{{i + 1}}</span></div>\\n                    <div class=\\\"card\\\">{{agent.name}}</div>\\n                    <div class=\\\"alert alert-success\\\">{{agent.addr}}</div>\\n                  </li>\\n                </ul>\\n          </div>              \\n      </div>       \\n    </aside >\\n  </section>\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/projects/applause/src/app/app.component.html\n// module id = ../../../../../src/app/app.component.html\n// module chunks = 2","import { Component } from '@angular/core';\nimport { ElementRef, NgZone, OnInit, ViewChildren, QueryList } from '@angular/core';\nimport {  } from 'googlemaps';\nimport { MapsAPILoader} from '@agm/core';\nimport 'rxjs/add/observable/bindCallback';\nimport { Observable } from 'rxjs/Rx';\n\n\nexport interface Location {\n  latitude: number;\n  longitude: number;\n  isOpen?: boolean;\n  name?: string;\n  addr?: string;\n}\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent implements OnInit {\n  Austin: Location = {latitude: 30.2672, longitude: -97.7431};\n  zoom = 10;\n  locations: Location[] = new Array(2);\n  agencies: Location[] = [];\n  @ViewChildren('address') inputs: QueryList<any>;\n  placeService: any;\n  constructor( private mapsAPILoader: MapsAPILoader, private ngZone: NgZone) { }\n  ngOnInit() {\n    this.setCurrentPosition();\n    this.mapsAPILoader.load().then(() => {\n      this.inputs.forEach((element, idx) => {\n        const address = new google.maps.places.Autocomplete(element.nativeElement, {\n          bounds: new google.maps.LatLngBounds(\n                  new google.maps.LatLng(30.135030, -97.960088),\n                  new google.maps.LatLng(30.522045, -97.546727)),\n          types: ['geocode'],\n          componentRestrictions: {country: 'US'}\n        });\n        address.addListener('place_changed', () => {\n          this.ngZone.run(() => {\n            const place = address.getPlace();\n            if (!!place.geometry) {\n              this.locations[idx] = {\n                latitude: place.geometry.location.lat(),\n                longitude: place.geometry.location.lng()\n              };\n            }\n          });\n        });\n      });\n      const map = new google.maps.Map(document.createElement('div'), {\n        center: {lat: this.Austin.latitude, lng: this.Austin.longitude},\n      });\n      this.placeService = new google.maps.places.PlacesService(map);\n    });\n  }\n  private setCurrentPosition() {\n    if ('geolocation' in navigator) {\n      navigator.geolocation.getCurrentPosition(position => this.zoom = this.zoom);\n    }\n  }\n  onchange($event: any, idx: number) {\n    if (!$event.target.value) {\n      this.agencies.length = 0;\n      this.locations[idx] = null;\n    };\n  }\n  private callbackObserver(idx) {\n    const option = {\n      rankBy: google.maps.places.RankBy.DISTANCE,\n      query: 'real estate agent'\n    };\n    return Observable.bindCallback(this.placeService.textSearch.bind(\n      this.placeService, Object.assign(option,\n        {location: new google.maps.LatLng(this.locations[idx].latitude,\n          this.locations[idx].longitude)}))).call(null);\n  }\n  private transform(arr, idx) {\n    const baseA = new google.maps.LatLng(this.locations[0].latitude, this.locations[0].longitude);\n    const baseB = new google.maps.LatLng(this.locations[1].latitude, this.locations[1].longitude);\n    const base = idx === 0 ? baseA : baseB;\n    return  arr.filter(loc => this.calcDistance(base, loc.geometry.location) <= 10)\n               .map(location => ({\n                    id:    location.id,\n                    name: location.name,\n                    addr:  location.formatted_address.replace(', United States', ''),\n                    longitude: location.geometry.location.lng(),\n                    latitude:  location.geometry.location.lat(),\n                    sum:   this.calcDistance(location.geometry.location, baseA) +\n                           this.calcDistance(location.geometry.location, baseB)\n            }));\n  }\n  search() {\n    this.agencies.length = 0;\n    Observable.forkJoin(this.callbackObserver(0),\n      this.callbackObserver(1), (a, b) => [a[0], b[0]])\n          .subscribe(([nearA, nearB]) => {\n            this.ngZone.run(() => {\n              this.agencies = [...this.transform(nearA, 0), ...this.transform(nearB, 1)]\n              .sort((a, b) => a.sum - b.sum)\n              .filter((loc, idx, arr) => !(idx > 1 && arr[idx - 1].id === loc.id))\n              .map(loc => ({\n                          name: loc.name,\n                          addr: loc.addr,\n                          isOpen: false,\n                          longitude: loc.longitude,\n                          latitude: loc.latitude}));\n            });\n      });\n  }\n  clickedMarker(idx) {\n    this.agencies.forEach((agent, i) => agent.isOpen = idx === i);\n  }\n  clickAgent(idx) {\n    this.clickedMarker(idx);\n  }\n  private calcDistance(p1, p2) {\n    return (Math.round((google.maps.geometry.spherical.computeDistanceBetween(p1, p2) / 1000 * 0.6214 * 10)) / 10);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// C:/projects/applause/src/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { HttpModule } from '@angular/http';\nimport { AppComponent } from './app.component';\nimport { AgmCoreModule } from '@agm/core';\nimport { FormControl, FormsModule, ReactiveFormsModule } from '@angular/forms';\n\n\n@NgModule({\n  declarations: [AppComponent],\n  imports: [\n    AgmCoreModule.forRoot({\n      apiKey: 'AIzaSyBsBy-fZP6s_J-pRfM5tJQHjKFvAXg5o_I',\n      libraries: ['places', 'geometry']\n    }),\n    FormsModule,\n    ReactiveFormsModule,\n    BrowserModule,\n    HttpModule\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// C:/projects/applause/src/app/app.module.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false,\n  apiUrl: 'http://localhost:10010/',\n  search: 'http://localhost:10010/search',\n  info: 'http://localhost:10010/info'\n};\n\n\n\n// WEBPACK FOOTER //\n// C:/projects/applause/src/environments/environment.ts","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// C:/projects/applause/src/main.ts"],"sourceRoot":"webpack:///"}